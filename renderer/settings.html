<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpeakEz Settings</title>
    <link rel="stylesheet" href="settings.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üé§ SpeakEz Settings</h1>
            <p class="subtitle">Configure your voice-to-text transcription</p>
        </header>

        <div class="settings-section">
            <div class="form-group">
                <label for="apiKey">OpenAI API Key</label>
                <div class="input-wrapper">
                    <input 
                        type="password" 
                        id="apiKey" 
                        placeholder="sk-..." 
                        autocomplete="off"
                    />
                    <button type="button" class="toggle-visibility" id="toggleVisibility">üëÅÔ∏è</button>
                </div>
                <p class="help-text">
                    Your API key is stored locally and encrypted. 
                    <a href="https://platform.openai.com/api-keys" target="_blank">Get your API key</a>
                </p>
            </div>

            <div class="form-group">
                <label for="microphone">Microphone Device</label>
                <select id="microphone">
                    <option value="default">Default Microphone</option>
                </select>
                <button type="button" id="refreshMics" class="btn btn-secondary" style="margin-top: 8px; padding: 8px 16px; font-size: 13px;">üîÑ Refresh Devices</button>
                <p class="help-text">
                    Select which microphone to use for recording
                </p>
            </div>

            <div class="form-group">
                <label for="mode">Recording Mode</label>
                <select id="mode">
                    <option value="toggle">Toggle Mode - Press once to start, press again to stop</option>
                    <option value="hold">Hold Mode - Press and hold to record, release to stop</option>
                </select>
                <p class="help-text">
                    Choose how Right Ctrl activates recording
                </p>
            </div>
        </div>

        <div class="info-section">
            <h3>How to use</h3>
            <ol>
                <li>Enter your OpenAI API key above</li>
                <li>Place your cursor in any text field</li>
                <li>Press <kbd>F9</kbd> to start/stop recording</li>
                <li>Speak clearly into your microphone</li>
                <li>Press <kbd>Ctrl+Shift+R</kbd> again (toggle mode) to stop</li>
                <li>Your transcribed text will automatically be pasted!</li>
            </ol>
        </div>

        <div class="status-section" id="statusSection" style="display: none;">
            <div class="status-message" id="statusMessage"></div>
        </div>

        <div class="recording-controls" style="margin-bottom: 20px; padding: 20px; background: #f0f0f0; border-radius: 8px;">
            <h3 style="margin-bottom: 12px; font-size: 16px;">Manual Recording Control</h3>
            <p style="font-size: 13px; color: #666; margin-bottom: 12px;">Hotkeys aren't working? Use these buttons:</p>
            <div style="display: flex; gap: 12px;">
                <button id="manualStartBtn" class="btn btn-primary" style="flex: 1;">üé§ Start Recording</button>
                <button id="manualStopBtn" class="btn btn-secondary" style="flex: 1;" disabled>‚èπÔ∏è Stop Recording</button>
            </div>
        </div>

        <div class="button-group">
            <button id="saveBtn" class="btn btn-primary">Save Settings</button>
            <button id="closeBtn" class="btn btn-secondary">Close</button>
        </div>
    </div>

    <script src="microphone-selector.js"></script>
    <script src="recording.js"></script>
    <script src="settings.js"></script>
</body>
</html>

